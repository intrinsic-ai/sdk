// Copyright 2023 Intrinsic Innovation LLC

syntax = "proto3";

package intrinsic_proto.processes;

import "intrinsic/assets/proto/metadata.proto";
import "intrinsic/executive/proto/behavior_tree.proto";

option go_package = "intrinsic/assets/processes/proto/process_asset_go_proto";

// A processed, portable representation of a Process asset.
message ProcessAsset {
  // Metadata about the asset, such as package, ID, release notes, etc.
  intrinsic_proto.assets.Metadata metadata = 1;

  // The behavior tree representing the process.
  //
  // [BehaviorTree.name] has to be equal to [Metadata.display_name].
  //
  // The Skill proto in [BehaviorTree.description] stores additional metadata
  // about the process. If present, it describes the interface of the process
  // (parameters, return value, etc.) and contains redundant metadata in "skill
  // format" which always has to be consistent with the asset's metadata:
  // - [Skill.skill_name, .package_name, .id] have to match
  //   [Metadata.id_version.id].
  // - [Skill.description] has to be equal to
  //   [Metadata.documentation.description].
  // - [Skill.id_version] has to match [Metadata.id_version]. It has to be empty
  //   if [Metadata.id_version.version] is empty.
  intrinsic_proto.executive.BehaviorTree behavior_tree = 2;
}
